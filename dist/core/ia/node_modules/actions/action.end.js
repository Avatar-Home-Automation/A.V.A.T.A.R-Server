'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (state) {
	return new Promise( (resolve) => {
		setTimeout(() => {
			appInfo('state.tokens:', state.tokens);
			appInfo('state.tags:', state.tags);
			appInfo('state.relations:', state.relations);

			if (Avatar.exists('google-assistant')) {
				state.action = {
					module: 'google-assistant',
					command: 'start',
					sentence: state.rawSentence
				};
			} else {
				state.action = {
					norule : true,
					value: Config.norule[state.language]
				};
			}
			resolve(state);
		}, Config.waitAction);
	});
};
